{% import "svgs.html" as svgs %}

{% macro project_card(project, class="", extra_attrs="") %}
<article class="group bg-slate-800 rounded-lg p-6 hover:-translate-y-2 transition-transform duration-300 border border-slate-700 shadow-lg flex flex-col h-full relative {{ class }}"
    {% if project.extra.tags %}data-tags="{{ project.extra.tags | join(sep=',') | lower }}"{% endif %}
    {% if extra_attrs %}{{ extra_attrs | safe }}{% endif %}>
    <div class="flex justify-between items-center mb-4">
        <div class="text-indigo-400 group-hover:text-indigo-300 transition-colors">
            {{ svgs::get_icon_for_tags(tags=project.extra.tags | default(value=[])) }}
        </div>
        <div class="flex items-center gap-3 z-10">
            {% if project.extra.demo_url %}<a href="{{ project.extra.demo_url }}" class="text-slate-500 hover:text-indigo-400 transition-colors" aria-label="Live demo">{{ svgs::play_icon(class="w-5 h-5") }}</a>{% endif %}
            <a href="{{ project.extra.github_url }}" target="_blank" rel="noopener noreferrer" class="text-slate-500 hover:text-indigo-400 transition-colors" aria-label="View source">{{ svgs::external_link_icon() }}</a>
        </div>
    </div>
    <h3 class="text-xl font-bold text-white mb-2 group-hover:text-indigo-400 transition-colors">
        <a href="{{ project.extra.github_url }}" target="_blank" rel="noopener noreferrer" class="after:absolute after:inset-0">{{ project.title }}</a>
    </h3>
    <div class="text-slate-400 text-sm mb-4 flex-grow">{{ project.content | safe }}</div>
    {% if project.extra.tags %}<ul class="font-mono text-xs text-slate-500 mt-4 flex flex-wrap gap-2">{% for tag in project.extra.tags %}<li>{{ tag }}</li>{% endfor %}</ul>{% endif %}
</article>
{% endmacro %}
